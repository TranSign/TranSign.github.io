(function(t){function e(e){for(var r,o,a=e[0],c=e[1],u=e[2],d=0,m=[];d<a.length;d++)o=a[d],n[o]&&m.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],r=!0,a=1;a<s.length;a++){var c=s[a];0!==n[c]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},n={app:0},i=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},4678:function(t,e,s){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=i(t);return s(e)}function i(t){var e=r[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}n.keys=function(){return Object.keys(r)},n.resolve=i,t.exports=n,n.id="4678"},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("097d");var r=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("main-header"),s("router-view")],1)},i=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-container"},[s("ul",{staticClass:"nav"},[t.loggedIn?s("li",{staticClass:"nav-item"},[s("p",[t._v(t._s("Welcome, "+t.userName))])]):t._e(),t.loggedIn?t._e():s("li",{staticClass:"nav-item"},[s("p",[t._v(t._s("Welcome, Guest. Please log in"))])]),t.loggedIn?s("li",{staticClass:"nav-item"},[s("router-link",{attrs:{to:{name:"tracker"}}},[t._v("Tracker")])],1):t._e(),"admin"==t.userRole?s("li",{staticClass:"nav-item"},[s("router-link",{attrs:{to:{name:"archive"}}},[t._v("Archive")])],1):t._e(),t.loggedIn?t._e():s("li",{staticClass:"nav-item"},[s("router-link",{attrs:{to:{name:"login"}}},[t._v("Login")])],1),t.loggedIn?t._e():s("li",{staticClass:"nav-item"},[s("router-link",{attrs:{to:{name:"register"}}},[t._v("Register")])],1),t.loggedIn?s("li",{staticClass:"nav-item"},[s("router-link",{attrs:{to:{name:"logout"}}},[t._v("Logout")])],1):t._e(),"admin"==t.userRole?s("li",{staticClass:"nav-item"},[s("router-link",{attrs:{to:{name:"create"}}},[t._v("Create")])],1):t._e()])])},a=[],c={name:"main-header",computed:{loggedIn:function(){return this.$store.getters.loggedIn},userName:function(){return this.$store.getters.userName},userRole:function(){return this.$store.getters.userRole},userDept:function(){return this.$store.getters.userDept}}},u=c,l=s("2877"),d=Object(l["a"])(u,o,a,!1,null,null,null),m=d.exports,h={components:{MainHeader:m},created:function(){this.$store.dispatch("initTracker")},computed:{}},f=h,p=(s("5c0b"),Object(l["a"])(f,n,i,!1,null,null,null)),v=p.exports,g=s("8c4f"),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:".content-container tracker-container"},[s("div",{staticClass:"sort-bar"},[s("div",{staticClass:"top"},[s("div",{staticClass:"spacer-grow"},[t._v(" ")]),s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"search",name:"tsearch",id:"tsearch",placeholder:"search"},domProps:{value:t.searchText},on:{change:t.searchOrders,input:function(e){e.target.composing||(t.searchText=e.target.value)}}})])]),s("div",{staticClass:"bottom"},[s("ul",[s("li",{staticClass:"sortable unselectable",on:{click:function(e){t.colSort("num")}}},[s("p",[t._v("num")]),"num"==this.sortFlags.column?s("div",{staticClass:"sort-icon",attrs:{id:"el_sort_num"}}):t._e()]),s("li",{staticClass:"sortable unselectable",on:{click:function(e){t.colSort("written")}}},[s("p",[t._v("written")]),"written"==this.sortFlags.column?s("div",{staticClass:"sort-icon dn-arrow",attrs:{id:"el_sort_written"}}):t._e()]),s("li",{staticClass:"sortable unselectable",on:{click:function(e){t.colSort("due")}}},[s("p",[t._v("due")]),"due"==this.sortFlags.column?s("div",{staticClass:"sort-icon",attrs:{id:"el_sort_due"}}):t._e()]),s("li",{staticClass:"sortable unselectable",on:{click:function(e){t.colSort("customer")}}},[s("p",[t._v("customer")]),"customer"==this.sortFlags.column?s("div",{staticClass:"sort-icon",attrs:{id:"el_sort_customer"}}):t._e()]),t._m(0),t._m(1),s("li",{staticClass:"sortable unselectable",on:{click:function(e){t.colSort("artist")}}},[s("p",[t._v("artist")]),"artist"==t.sortFlags.column?s("div",{staticClass:"sort-icon",attrs:{id:"el_artist_dept"}}):t._e()]),s("li",{staticClass:"sortable unselectable",on:{click:function(e){t.colSort("location")}}},[s("p",[t._v("location")]),"location"==t.sortFlags.column?s("div",{staticClass:"sort-icon",attrs:{id:"el_location_dept"}}):t._e()])])])]),t._l(t.filterOrders,function(e,r){return s("order",{key:e.num,staticClass:"order-item",attrs:{order:e,editing:!1,setEven:r},on:{"remove-order":function(s){t.refreshList(e.num)}}})}),s("div",{staticClass:"spacer-bottom"},[t._v(" ")])],2)},_=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"no-sort unselectable"},[s("p",[t._v("status")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"no-sort unselectable"},[s("p",[t._v("priority")])])}],w=(s("6762"),s("2fdb"),s("ac6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:[t.isEven?"bg-dark":"bg-light"]+" order-container order_"+t.order.num},[s("div",{staticClass:"top"},[s("ul",[t.isAdmin?s("li",{staticClass:"num",on:{dblclick:function(e){t.editOrder(t.order.id,"num")}}},["num"!=t.editing?s("p",[t._v(t._s(t.inum))]):"num"==t.editing?s("input",{directives:[{name:"model",rawName:"v-model",value:t.inum,expression:"inum"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:t.inum},on:{blur:function(e){t.doneEdit(t.order,"num")},keyup:[function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.doneEdit(t.order,"num")},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.doneEdit(t.order,"num")}],input:function(e){e.target.composing||(t.inum=e.target.value)}}}):t._e()]):t._e(),t.isAdmin?t._e():s("li",{staticClass:"num"},["num"!=t.editing?s("p",[t._v(t._s(t.inum))]):"num"==t.editing?s("input",{directives:[{name:"model",rawName:"v-model",value:t.inum,expression:"inum"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:t.inum},on:{blur:function(e){t.doneEdit(t.order,"num")},keyup:[function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.doneEdit(t.order,"num")},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.doneEdit(t.order,"num")}],input:function(e){e.target.composing||(t.inum=e.target.value)}}}):t._e()]),s("li",{staticClass:"dates"},[s("div",{staticClass:"written",on:{dblclick:function(e){t.editOrder(t.order.id,"written")}}},[s("p",{staticClass:"label"},[t._v("Written:")]),t.isAdmin?t._e():s("p",{staticClass:"date"},[t._v(t._s(t.order.written))]),t.isAdmin?s("div",{class:[t.isEven?"dateDropdown-dk":"dateDropdown-lt"]},[s("datepicker",{attrs:{placeholder:t.order.written,format:t.customFormatter},on:{selected:t.setDateWritten}})],1):t._e()]),s("div",{staticClass:"due"},[s("p",{staticClass:"label"},[t._v("Due:")]),t.isAdmin?t._e():s("p",{staticClass:"date"},[t._v(t._s(t.order.due))]),t.isAdmin?s("div",{class:[t.isEven?"dateDropdown-dk":"dateDropdown-lt"]},[s("datepicker",{attrs:{placeholder:t.order.due,format:t.customFormatter},on:{selected:t.setDateDue}})],1):t._e()])]),t.isAdmin?s("li",{staticClass:"customer",on:{dblclick:function(e){t.editOrder(t.order.id,"customer")}}},["customer"!=t.editing?s("p",[t._v(t._s(t.icustomer))]):"customer"==t.editing?s("input",{directives:[{name:"model",rawName:"v-model",value:t.icustomer,expression:"icustomer"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:t.icustomer},on:{blur:function(e){t.doneEdit(t.order,"customer")},keyup:[function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.doneEdit(t.order,"customer")},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.doneEdit(t.order,"customer")}],input:function(e){e.target.composing||(t.icustomer=e.target.value)}}}):t._e()]):t._e(),t.isAdmin?t._e():s("li",{staticClass:"customer"},["customer"!=t.editing?s("p",[t._v(t._s(t.icustomer))]):"customer"==t.editing?s("input",{directives:[{name:"model",rawName:"v-model",value:t.icustomer,expression:"icustomer"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:t.icustomer},on:{blur:function(e){t.doneEdit(t.order,"customer")},keyup:[function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.doneEdit(t.order,"customer")},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.doneEdit(t.order,"customer")}],input:function(e){e.target.composing||(t.icustomer=e.target.value)}}}):t._e()]),s("li",{staticClass:"status"},[s("p",{staticClass:"status"},[t._v(t._s(t.curStatus))])]),s("li",{staticClass:"flags"},[s("p",{staticClass:"ship"},[t._v(t._s(t.orderShipping))]),s("p",{staticClass:"priority"},[t._v(t._s(t.orderPriority))])]),s("li",{staticClass:"status"},[s("p",[t._v(t._s(t.orderArtist))])]),s("li",{staticClass:"user"},[s("p",[t._v(t._s(t.orderLocation))])])])]),s("div",{staticClass:"bottom"},[s("div",{staticClass:"notes",on:{dblclick:function(e){t.editOrder(t.order.id,"notes")}}},["notes"!=t.editing?s("p",[t._v(t._s(t.inotes))]):"notes"==t.editing?s("input",{directives:[{name:"model",rawName:"v-model",value:t.inotes,expression:"inotes"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:t.inotes},on:{blur:function(e){t.doneEdit(t.order,"notes")},keyup:[function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.doneEdit(t.order,"notes")},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.doneEdit(t.order,"notes")}],input:function(e){e.target.composing||(t.inotes=e.target.value)}}}):t._e()]),t.isArchived?t._e():s("div",{staticClass:"interface"},[s("div",{staticClass:"menu-status submit-btn"},[t.isArt||t.isAdmin?s("div",{staticClass:"dropdown"},[s("p",[t._v("SET STATUS")]),s("ul",{staticClass:"dropdown-content"},t._l(t.statuses,function(e){return s("li",{key:e.val,attrs:{value:e.val},on:{click:function(s){t.setOrderStatus(t.order,e.val)}}},[s("p",[t._v(t._s(e.name))])])}),0)]):t._e()]),s("div",{staticClass:"menu-status submit-btn"},[t.isAdmin?s("div",{staticClass:"dropdown"},[s("p",[t._v("ARTIST")]),s("ul",{staticClass:"dropdown-content"},t._l(t.filteredEmployees,function(e){return s("li",{key:e.uid,attrs:{value:e.uid},on:{click:function(s){t.assignArtist(t.order,e.uid)}}},[s("p",[t._v(t._s(e.name))])])}),0)]):t._e()]),s("div",{staticClass:"menu-status submit-btn"},[t.isAdmin?s("div",{staticClass:"dropdown"},[s("p",[t._v("LOCATION")]),s("ul",{staticClass:"dropdown-content"},t._l(t.filteredEmployees,function(e){return s("li",{key:e.uid,attrs:{value:e.uid},on:{click:function(s){t.assignLocation(t.order,e.uid)}}},[s("p",[t._v(t._s(e.name))])])}),0)]):t._e()]),t.isArt&&!t.isAdmin?s("div",{staticClass:"submit-btn",on:{click:function(e){t.submitToApp(t.order)}}},[s("p",[t._v("SEND TO APP")])]):t._e(),t.isArt||t.isApp||t.isAdmin?s("div",{staticClass:"submit-btn",on:{click:function(e){t.submitToArchive(t.order)}}},[s("p",[t._v("FINISH")])]):t._e(),t.isAdmin?s("div",{staticClass:"submit-btn",on:{click:function(e){t.deleteOrder(t.order)}}},[s("p",[t._v("DELETE")])]):t._e()])])])}),k=[],C=(s("7f7f"),s("c5f6"),s("dab8")),j=s.n(C),y=s("ee9b"),O=s("c1df"),E=s.n(O),x={name:"order",that:void 0,props:{order:{type:Object,required:!0},setEven:{type:Number,required:!0}},components:{Datepicker:j.a},data:function(){return{editing:"none",inum:this.order.num,icustomer:this.order.customer,inotes:this.order.notes,cache:{num:"",customer:"",notes:""},format:"YYYY-MM-DD",disabledDates:{},disabledFn:{customPredictor:function(t){if(t.getDate()%3==0)return!0}},highlightedFn:{customPredictor:function(t){if(t.getDate()%4==0)return!0}},highlighted:{},eventMsg:null,language:"en",languages:y,vModelExample:null,changedMonthLog:[],mStatus:0}},created:function(){this.getOrderStatus(this.order.status),this.icustomer=this.order.customer,this.inotes=this.order.notes},computed:{isAdmin:function(){return this.$store.getters.isAdmin},isApp:function(){return this.$store.getters.isApp},isArt:function(){return this.$store.getters.isArt},isEven:function(){return this.setEven%2==0},isArchived:function(){return this.order.archived},statuses:function(){return this.$store.getters.statuses},employees:function(){return this.$store.getters.employees},filteredEmployees:function(){for(var t=[],e=this.$store.getters.employees,s=0;s<e.length;s++)"a9Fh8uBiUcXaGJIBIn7hOWojm6f2"==e[s].uid&&t.push(e[s]);return e.forEach(function(e){"a9Fh8uBiUcXaGJIBIn7hOWojm6f2"!=e.uid&&"z1eFNGZQC2bBnET7SYfvdyIyfJ62"!=e.uid&&t.push(e)}),t},curStatus:function(){return this.$store.getters.statuses[this.order.status].name},orderPriority:function(){return 0==this.order.rush?this.$store.getters.priorities[0].name:this.$store.getters.priorities[1].name},orderShipping:function(){return this.$store.getters.shipping[this.order.shiptype].name},orderUser:function(){for(var t="not found",e=0;e<this.$store.getters.employees.length;e++)this.$store.getters.employees[e].uid==this.order.uid&&(t=this.$store.getters.employees[e].name);return t},orderArtist:function(){for(var t="not found",e=0;e<this.$store.getters.employees.length;e++)this.$store.getters.employees[e].uid==this.order.artist&&(t=this.$store.getters.employees[e].name);return t},orderLocation:function(){for(var t="not found",e=0;e<this.$store.getters.employees.length;e++)this.$store.getters.employees[e].uid==this.order.location&&(t=this.$store.getters.employees[e].name);return t}},directives:{focus:{inserted:function(t){t.focus()}}},methods:{submitToApp:function(t){t.location="maxGYo8GjsYNd5upKnFAAOCOlK83",this.updateOrder(t),this.$emit("remove-order")},submitToArchive:function(t){t.archived=!0,this.archiveOrder(t),this.$emit("remove-order")},setOrderStatus:function(t,e){return this.order.status=e,this.updateOrder(t),this.order.status},getOrderStatus:function(t){return this.mStatus=this.$store.getters.statuses[t],this.$store.getters.statuses[t]},assignLocation:function(t,e){t.location=e,this.updateOrder(t)},assignArtist:function(t,e){t.artist=e,this.updateOrder(t)},updateOrder:function(t){var e={archived:t.archived,num:t.num,customer:t.customer,written:this.customFormatter(t.written),due:this.customFormatter(t.due),shiptype:t.shiptype,status:t.status,rush:t.rush,artist:t.artist,location:t.location,notes:t.notes};this.$store.dispatch("updateOrder",e)},editOrder:function(t,e){switch(e){case"num":this.cache.num=this.order.num,this.editing="num";break;case"customer":this.cache.customer=this.order.customer,this.editing="customer";break;case"notes":this.cache.notes=this.order.notes,this.editing="notes";break;case"written":this.editing="written";break}},deleteOrder:function(t){this.$store.dispatch("deleteOrder",t.num)},archiveOrder:function(t){this.$store.dispatch("archiveOrder",t)},doneEdit:function(t,e){var s=!1;switch(e){case"num":s=!0,""!=this.inum.trim()&&this.inum!=this.cache.num||(this.inum=this.cache.num,s=!1),t.num=this.inum;break;case"customer":s=!0,""!=this.icustomer.trim()&&this.icustomer!=this.cache.customer||(this.icustomer=this.cache.customer,s=!1),t.customer=this.icustomer;break;case"notes":s=!0,""!=this.inotes.trim()&&this.inotes!=this.cache.notes||(this.inotes=this.cache.notes,s=!1),t.notes=this.inotes;break;case"written":s=!0,console.log("Finished Editing Written Date");break}s&&this.updateOrder(t),this.editing="none"},openPicker:function(t){this.$refs.programaticOpen.showCalendar()},setDateWritten:function(t){this.order.written=E()(t).format("YYYY-MM-DD"),this.updateOrder(this.order)},setDateDue:function(t){this.order.due=E()(t).format("YYYY-MM-DD"),this.updateOrder(this.order)},customFormatter:function(t){var e=E()(t).format("YYYY-MM-DD");return e}}},F=x,$=Object(l["a"])(F,w,k,!1,null,null,null),A=$.exports,S=s("6571"),I=s.n(S),L={name:"tracker",components:{Order:A},data:function(){return{orders:null,sortFlags:{column:"num",direction:"asc"},searchText:""}},created:function(){var t=this,e=this;console.log(this.$store.getters.userRole),this.$store.dispatch("getOrders").then(function(s){t.orders=e.$store.getters.orders})},computed:{filterOrders:function(){var t=[];if(""==this.searchText)return this.$store.getters.orders;var e=this.$store.getters.orders,s=this.searchText.toLowerCase();return e.forEach(function(e){var r=e.num.toLowerCase(),n=e.customer.toLowerCase(),i=e.notes.toLowerCase();(r.includes(s)||n.includes(s)||i.includes(s))&&t.push(e)}),t}},methods:{refreshList:function(t){this.$store.dispatch("removeOrder",t)},filterList:function(t){},setFilter:function(t,e){},colSort:function(t){var e="el_sort_"+this.sortFlags.column,s=document.getElementById(e);switch(t==this.sortFlags.column?"asc"==this.sortFlags.direction?this.sortFlags.direction="desc":"desc"==this.sortFlags.direction&&(this.sortFlags.direction="asc"):(this.sortFlags.column=t,this.sortFlags.direction="asc"),this.sortFlags.direction){case"asc":s.classList.contains("dn-arrow")||(s.classList.contains("up-arrow")&&s.classList.remove("up-arrow"),s.classList.add("dn-arrow"));break;case"desc":s.classList.contains("up-arrow")||(s.classList.contains("dn-arrow")&&s.classList.remove("dn-arrow"),s.classList.add("up-arrow"));break}switch(this.sortFlags.column){case"num":"asc"==this.sortFlags.direction?I()(this.orders).asc(function(t){return t.num}):I()(this.orders).desc(function(t){return t.num});break;case"written":"asc"==this.sortFlags.direction?I()(this.orders).asc(function(t){return t.written}):I()(this.orders).desc(function(t){return t.written});break;case"due":"asc"==this.sortFlags.direction?I()(this.orders).asc(function(t){return t.due}):I()(this.orders).desc(function(t){return t.due});break;case"customer":"asc"==this.sortFlags.direction?I()(this.orders).asc(function(t){return t.customer}):I()(this.orders).desc(function(t){return t.customer});break;case"artist":"asc"==this.sortFlags.direction?I()(this.orders).asc(function(t){return t.artist}):I()(this.orders).desc(function(t){return t.artist});break;case"location":"asc"==this.sortFlags.direction?I()(this.orders).asc(function(t){return t.location}):I()(this.orders).desc(function(t){return t.location});break}},searchOrders:function(){}}},U=L,N=Object(l["a"])(U,b,_,!1,null,null,null),D=N.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:".content-container tracker-container"},[s("div",{staticClass:"sort-bar"},[s("div",{staticClass:"top"},[s("div",{staticClass:"spacer-grow"},[t._v(" ")]),s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"search",name:"tsearch",id:"tsearch",placeholder:"search"},domProps:{value:t.searchText},on:{change:t.searchOrders,input:function(e){e.target.composing||(t.searchText=e.target.value)}}})])]),s("div",{staticClass:"bottom"},[s("ul",[s("li",{staticClass:"sortable unselectable",on:{click:function(e){t.colSort("num")}}},[s("p",[t._v("num")]),"num"==this.sortFlags.column?s("div",{staticClass:"sort-icon",attrs:{id:"el_sort_num"}}):t._e()]),s("li",{staticClass:"sortable unselectable",on:{click:function(e){t.colSort("written")}}},[s("p",[t._v("written")]),"written"==this.sortFlags.column?s("div",{staticClass:"sort-icon dn-arrow",attrs:{id:"el_sort_written"}}):t._e()]),s("li",{staticClass:"sortable unselectable",on:{click:function(e){t.colSort("due")}}},[s("p",[t._v("due")]),"due"==this.sortFlags.column?s("div",{staticClass:"sort-icon",attrs:{id:"el_sort_due"}}):t._e()]),s("li",{staticClass:"sortable unselectable",on:{click:function(e){t.colSort("customer")}}},[s("p",[t._v("customer")]),"customer"==this.sortFlags.column?s("div",{staticClass:"sort-icon",attrs:{id:"el_sort_customer"}}):t._e()]),t._m(0),t._m(1),s("li",{staticClass:"sortable unselectable",on:{click:function(e){t.colSort("artist")}}},[s("p",[t._v("artist")]),"artist"==t.sortFlags.column?s("div",{staticClass:"sort-icon",attrs:{id:"el_artist_dept"}}):t._e()]),s("li",{staticClass:"sortable unselectable",on:{click:function(e){t.colSort("location")}}},[s("p",[t._v("location")]),"location"==t.sortFlags.column?s("div",{staticClass:"sort-icon",attrs:{id:"el_location_dept"}}):t._e()])])])]),t._l(t.filterOrders,function(e,r){return s("order",{key:e.num,staticClass:"order-item",attrs:{order:e,editing:!1,setEven:r},on:{"remove-order":function(s){t.refreshArchList(e.num)}}})}),s("div",{staticClass:"spacer-bottom"},[t._v(" ")])],2)},T=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"no-sort unselectable"},[s("p",[t._v("status")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"no-sort unselectable"},[s("p",[t._v("priority")])])}],R={name:"archive",components:{Order:A},data:function(){return{aOrders:null,sortFlags:{column:"num",direction:"asc"},searchText:""}},created:function(){var t=this;this.$store.dispatch("getEmployees").then(function(){t.$store.dispatch("getArchive").then(function(e){t.archOrders=t.$store.getters.archOrders})})},computed:{filterOrders:function(){var t=[];if(""==this.searchText)return this.$store.getters.archOrders;var e=this.$store.getters.archOrders,s=this.searchText.toLowerCase();return e.forEach(function(e){var r=e.num.toLowerCase(),n=e.customer.toLowerCase(),i=e.notes.toLowerCase();(r.includes(s)||n.includes(s)||i.includes(s))&&t.push(e)}),t}},methods:{refreshList:function(t){this.$store.dispatch("removeArchOrder",t)},filterList:function(t){},setFilter:function(t,e){},colSort:function(t){var e="el_sort_"+this.sortFlags.column,s=document.getElementById(e);switch(t==this.sortFlags.column?"asc"==this.sortFlags.direction?this.sortFlags.direction="desc":"desc"==this.sortFlags.direction&&(this.sortFlags.direction="asc"):(this.sortFlags.column=t,this.sortFlags.direction="asc"),this.sortFlags.direction){case"asc":s.classList.contains("dn-arrow")||(s.classList.contains("up-arrow")&&s.classList.remove("up-arrow"),s.classList.add("dn-arrow"));break;case"desc":s.classList.contains("up-arrow")||(s.classList.contains("dn-arrow")&&s.classList.remove("dn-arrow"),s.classList.add("up-arrow"));break}switch(this.sortFlags.column){case"num":"asc"==this.sortFlags.direction?I()(this.aOrders).asc(function(t){return t.num}):I()(this.aOrders).desc(function(t){return t.num});break;case"written":"asc"==this.sortFlags.direction?I()(this.aOrders).asc(function(t){return t.written}):I()(this.aOrders).desc(function(t){return t.written});break;case"due":"asc"==this.sortFlags.direction?I()(this.aOrders).asc(function(t){return t.due}):I()(this.aOrders).desc(function(t){return t.due});break;case"customer":"asc"==this.sortFlags.direction?I()(this.aOrders).asc(function(t){return t.customer}):I()(this.aOrders).desc(function(t){return t.customer});break;case"artist":"asc"==this.sortFlags.direction?I()(this.aOrders).asc(function(t){return t.uid}):I()(this.aOrders).desc(function(t){return t.uid});break;case"location":"asc"==this.sortFlags.direction?I()(this.aOrders).asc(function(t){return t.uid}):I()(this.aOrders).desc(function(t){return t.uid});break}},searchOrders:function(){}}},z=R,M=Object(l["a"])(z,P,T,!1,null,null,null),Y=M.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-container"},[s("h2",{staticClass:"login-heading"},[t._v("Login")]),s("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[t.successMessage?s("div",{staticClass:"success-message"},[t._v(t._s(t.successMessage))]):t._e(),t.serverError?s("div",{staticClass:"server-error"},[t._v(t._s(t.serverError))]):t._e(),s("div",{staticClass:"form-control"},[s("label",{attrs:{for:"email"}},[t._v("Username/Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"login-input",attrs:{type:"email",name:"email",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-control mb-more"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"login-input",attrs:{type:"password",name:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"form-control"},[s("button",{staticClass:"btn-submit",attrs:{type:"submit",disabled:t.loading}},[t.loading?s("div",{staticClass:"lds-ring-container"},[t._m(0)]):t._e(),t._v("\n        Login\n      ")])])])])},q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"lds-ring"},[s("div"),s("div"),s("div"),s("div")])}],W={name:"login",props:{dataSuccessMessage:{type:String}},data:function(){return{email:"",password:"",serverError:"",successMessage:this.dataSuccessMessage,loading:!1}},methods:{login:function(){var t={email:this.email,password:this.password};this.$store.dispatch("login",t)}}},G=W,J=Object(l["a"])(G,B,q,!1,null,null,null),V=J.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-container"},[s("div",{staticClass:"page-wrapper login-form"},[s("h2",{staticClass:"login-heading"},[t._v("Register")]),s("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[t.serverErrors?s("div",{staticClass:"server-error"},t._l(t.serverErrors,function(e,r){return s("div",{key:r},[t._v("\n        "+t._s(e[0])+"\n      ")])}),0):t._e(),s("div",{staticClass:"form-control"},[s("label",{attrs:{for:"name"}},[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"login-input",class:{"input-error":t.errors.has("name")},attrs:{type:"text",name:"name",id:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("span",{staticClass:"form-error"},[t._v(t._s(t.errors.first("name")))])]),s("div",{staticClass:"form-control"},[s("label",{attrs:{for:"email"}},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"login-input",class:{"input-error":t.errors.has("email")},attrs:{type:"text",name:"email",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("span",{staticClass:"form-error"},[t._v(t._s(t.errors.first("email")))])]),s("div",{staticClass:"form-control mb-more"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],staticClass:"login-input",class:{"input-error":t.errors.has("password")},attrs:{type:"password",name:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("span",{staticClass:"form-error"},[t._v(t._s(t.errors.first("password")))])]),t._m(0)])])])},H=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-control"},[s("button",{staticClass:"btn-submit",attrs:{type:"submit"}},[t._v("Create Account")])])}],K={name:"register",data:function(){return{name:"",email:"",password:"",serverErrors:"",successMessage:""}},methods:{validateBeforeSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){e&&t.register()})},register:function(){var t=this;this.$store.dispatch("register",{name:this.name,email:this.email,password:this.password}).then(function(e){t.successMessage="Registered Successfully!",t.$router.push({name:"login",params:{dataSuccessMessage:t.successMessage}}),t.$toast.success({title:t.successMessage,message:"You can login here"})}).catch(function(t){})}}},Q=K,Z=Object(l["a"])(Q,X,H,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},st=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-container"},[s("em",[t._v("Logging Out")])])}],rt={created:function(){var t=this;this.$store.dispatch("logout").then(function(e){t.$router.push({name:"tracker"})})}},nt=rt,it=Object(l["a"])(nt,et,st,!1,null,null,null),ot=it.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-container form-container"},[s("p",{staticClass:"mt-20"},[t._v("Create Order")]),s("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[s("div",{staticClass:"form-row"},[s("p",{staticClass:"label"},[t._v("Number")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],attrs:{type:"text",name:"num",placeholder:"00000"},domProps:{value:t.num},on:{input:function(e){e.target.composing||(t.num=e.target.value)}}})]),s("div",{staticClass:"form-row"},[s("p",{staticClass:"label"},[t._v("Customer")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer,expression:"customer"}],attrs:{type:"text",name:"name",placeholder:"name"},domProps:{value:t.customer},on:{input:function(e){e.target.composing||(t.customer=e.target.value)}}})]),s("div",{staticClass:"form-row"},[s("p",{staticClass:"label"},[t._v("Written")]),s("datepicker",{attrs:{name:"written",placeholder:"2019-06-21",format:t.customFormatter},model:{value:t.written,callback:function(e){t.written=e},expression:"written"}})],1),s("div",{staticClass:"form-row"},[s("p",{staticClass:"label"},[t._v("Due")]),s("datepicker",{attrs:{name:"due",placeholder:"2019-06-28",format:t.customFormatter},model:{value:t.due,callback:function(e){t.due=e},expression:"due"}})],1),s("div",{staticClass:"form-row"},[s("p",{staticClass:"label"},[t._v("Shipping")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.ship,expression:"ship"}],attrs:{name:"ship"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.ship=e.target.multiple?s:s[0]}}},t._l(t.shipping,function(e){return s("option",{key:e.val,domProps:{value:e.val}},[t._v(t._s(e.name))])}),0)]),s("div",{staticClass:"form-row"},[s("p",{staticClass:"label"},[t._v("Assign")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.uid,expression:"uid"}],attrs:{name:"ship"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.uid=e.target.multiple?s:s[0]}}},t._l(t.filteredEmployees,function(e){return s("option",{key:e.uid,domProps:{value:e.uid}},[t._v(t._s(e.name))])}),0)]),s("div",{staticClass:"form-row"},[s("p",{staticClass:"label"},[t._v("Status")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],attrs:{name:"status"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.status=e.target.multiple?s:s[0]}}},t._l(t.statuses,function(e){return s("option",{key:e.val,domProps:{value:e.val}},[t._v(t._s(e.name))])}),0)]),s("div",{staticClass:"form-row"},[s("p",{staticClass:"label"},[t._v("Rush")]),s("input",{staticClass:"tickbox",attrs:{type:"checkbox",name:"rush"},on:{change:function(e){t.toggleCheckbox("rush")}}})]),s("div",{staticClass:"form-row"},[s("p",{staticClass:"label"},[t._v("Notes")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],attrs:{name:"notes",rows:"3"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value)}}})]),t._m(0),t.formErrors.length>0?s("div",{staticClass:"form-row"},[s("div",{staticClass:"spacer-grow"},[t._v(" ")]),t._l(t.formErrors,function(e){return s("p",{key:e,staticClass:"error-text"},[t._v(t._s(e))])})],2):t._e()])])},ct=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-row"},[s("div",{staticClass:"spacer-grow"},[t._v(" ")]),s("input",{staticClass:"btn-submit",attrs:{type:"submit"}})])}],ut={name:"create-order",components:{Datepicker:j.a},data:function(){return{order:null,num:"",customer:"",written:"",due:"",ship:"0",status:"0",rush:!1,notes:"",archived:!1,uid:"a9Fh8uBiUcXaGJIBIn7hOWojm6f2",formErrors:[]}},computed:{filteredEmployees:function(){for(var t=[],e=this.$store.getters.employees,s=0;s<e.length;s++)"a9Fh8uBiUcXaGJIBIn7hOWojm6f2"==e[s].uid&&t.push(e[s]);return e.forEach(function(e){"a9Fh8uBiUcXaGJIBIn7hOWojm6f2"!=e.uid&&"z1eFNGZQC2bBnET7SYfvdyIyfJ62"!=e.uid&&t.push(e)}),t},employees:function(){return this.$store.getters.employees},shipping:function(){return this.$store.getters.shipping},statuses:function(){return this.$store.getters.statuses}},methods:{customFormatter:function(t){var e=E()(t).format("YYYY-MM-DD");return e},setDateWritten:function(t){this.written=this.customFormatter(t)},setDateDue:function(t){this.due=this.customFormatter(t)},validateBeforeSubmit:function(){console.log("Validating..."),this.formErrors=[];var t={archived:!1,num:this.num,customer:this.customer,written:this.customFormatter(this.written),due:this.customFormatter(this.due),shiptype:this.ship,status:this.status,rush:this.rush,artist:this.uid,location:this.uid,notes:this.notes};""!=t.num&&""!=t.customer&&"Invalid date"!=t.written&&"Invalid date"!=t.due||this.formErrors.push("Please fill out all required fields."),0==this.formErrors.length?this.create(t):(console.log("Errors: ".concat(this.formErrors)),console.log("Form Data: "),console.log(t))},create:function(t){var e=this;this.$store.dispatch("submitOrder",t).then(function(t){e.$router.push({name:"tracker"})}).catch(function(t){})},toggleCheckbox:function(t){"rush"==t&&(0==this.rush?this.rush=!0:1==this.rush&&(this.rush=!1))}}},lt=ut,dt=Object(l["a"])(lt,at,ct,!1,null,null,null),mt=dt.exports;r["a"].use(g["a"]);var ht=new g["a"]({mode:"history",base:"/",routes:[{path:"/",name:"tracker",component:D,meta:{title:"tsot",requiresAuth:!0}},{path:"/archive",name:"archive",component:Y,meta:{title:"tsot - archive",requiresAuth:!0}},{path:"/login",name:"login",component:V,meta:{title:"tsot",requiresVisitor:!0}},{path:"/register",name:"register",component:tt,meta:{title:"tsot",requiresVisitor:!0}},{path:"/logout",name:"logout",component:ot,meta:{title:"tsot",requiresAuth:!0}},{path:"/create",name:"create",component:mt,meta:{title:"tsot",requiresAuth:!0}}]}),ft=s("7bb1"),pt=(s("96cf"),s("3b8d")),vt=s("2f62"),gt=s("bc3a"),bt=s.n(gt);s("3e8f");r["a"].use(vt["a"]),bt.a.defaults.baseURL="http://tsot.work/api",bt.a.defaults.headers.post["Access-Control-Allow-Origin"]="*";var _t=new vt["a"].Store({state:{token:localStorage.getItem("access_token")||null,user:null,userInfo:{dept:"none",role:"user"},bLoggedIn:!1,orders:[],archOrders:[],filter:"all",statuses:[{val:"0",name:"Not Started"},{val:"1",name:"Proofing"},{val:"2",name:"Production"},{val:"3",name:"Application"},{val:"4",name:"Complete"},{val:"5",name:"Archived"}],priorities:[{val:"0",name:"Standard"},{val:"1",name:"Rush"}],shipping:[{val:"0",name:"Pick up"},{val:"1",name:"Ship"},{val:"2",name:"Delivery"},{val:"3",name:"Install"}],employees:[]},getters:{statuses:function(t){return t.statuses},priorities:function(t){return t.priorities},shipping:function(t){return t.shipping},orders:function(t){return t.orders},archOrders:function(t){return t.archOrders},userName:function(t){return t.user?t.user.displayName:"Guest"},userRole:function(t){return t.userInfo.role},userDept:function(t){return t.userInfo.dept},loggedIn:function(t){return t.bLoggedIn},isAdmin:function(t){return"admin"==t.userInfo.role},isArt:function(t){return"art"==t.userInfo.dept},isApp:function(t){return"app"==t.userInfo.dept},employees:function(t){return t.employees}},mutations:{setOrders:function(t,e){t.orders=e},setArchive:function(t,e){t.archOrders=e},submitOrder:function(t,e){console.log("Order Submitted")},setUser:function(t,e){t.user=e,t.bLoggedIn=!0,ht.push({name:"tracker"})},resetUser:function(t){t.user=null,t.userInfo.dept="none",t.userInfo.role="user",t.bLoggedIn=!1,ht.push({name:"login"})},setUserInfo:function(t,e){t.userInfo.role=e.role,t.userInfo.dept=e.dept},removeOrder:function(t,e){console.log("removing order: ".concat(e));for(var s=0;s<t.orders.length;s++)t.orders[s].num==e&&r["a"].delete(t.orders,s)},deleteOrder:function(t,e){console.log("deleting order: ".concat(e));for(var s=0;s<t.orders.length;s++)t.orders[s].num==e&&(kt.db.collection("orders").doc(e).delete(),r["a"].delete(t.orders,s))},setEmployees:function(t,e){t.employees=e}},actions:{initTracker:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=this,t.t0=this,t.next=4,this.dispatch("initializeUser");case 4:t.t1=t.sent,t.t2=function(){s.dispatch("getOrders")},t.t0.dispatch.call(t.t0,"getEmployees",t.t1).then(t.t2);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getOrders:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log("getOrders"),kt.auth.currentUser&&(s=[],"admin"==this.state.userInfo.role?kt.db.collection("orders").get().then(function(t){t.forEach(function(t){s.push(t.data())})}):(console.log(kt.auth.currentUser.uid),kt.db.collection("orders").where("location","==",kt.auth.currentUser.uid).get().then(function(t){t.forEach(function(t){console.log(t.data().num),s.push(t.data())})})),e.commit("setOrders",s));case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getArchive:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e){var s,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:kt.auth.currentUser&&(s=[],kt.db.collection("archive").get().then(function(t){t.forEach(function(t){"admin"==r.state.userInfo.role&&s.push(t.data())})}),e.commit("setArchive",s));case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getOrdersFiltered:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e,s){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:kt.auth.currentUser&&(r=[],kt.db.collection("orders").get().then(function(t){t.forEach(function(t){r.push(t.data())})}),e.commit("setOrders",r));case 1:case"end":return t.stop()}},t,this)}));function e(e,s){return t.apply(this,arguments)}return e}(),submitOrder:function(t,e){kt.db.collection("orders").where("num","==",e.num).get().then(function(t){0==t.docs.length&&kt.db.collection("orders").doc(e.num).set(e).then(function(){})})},removeOrder:function(t,e){t.commit("removeOrder",e)},updateOrder:function(t,e){kt.db.collection("orders").doc(e.num).update(e)},archiveOrder:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e,s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:kt.db.collection("archive").doc(s.num).set(s).then(function(){console.log("Order ".concat(s.num," successfully archived.")),kt.db.collection("orders").doc(s.num).delete().then(function(){console.log("Order ".concat(s.num," successfully removed from the active database."))}).catch(function(t){console.log("There was an error removing ".concat(s.num," from the active database."))})}).catch(function(t){console.log("There was an error archiving order ".concat(s.num,"."))});case 1:case"end":return t.stop()}},t,this)}));function e(e,s){return t.apply(this,arguments)}return e}(),dbUpdate:function(t){kt.db.batch();kt.db.collection("orders").where("archived","==",!0).get().then(function(t){t.forEach(function(t){var e=t.data();console.log("Archiving: "),kt.db.collection("archive").doc(e.num).set(e).then(function(){console.log("Order ".concat(e.num," successfully archived.")),kt.db.collection("orders").doc(e.num).delete().then(function(){console.log("Order ".concat(e.num," successfully removed from the active database."))}).catch(function(t){console.log("There was an error removing ".concat(e.num," from the active database."))})}).catch(function(t){console.log("There was an error archiving order ".concat(e.num,"."))})})})},initializeUser:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("initializeUser"),kt.auth.currentUser){t.next=5;break}e.commit("resetUser"),t.next=12;break;case 5:return console.log(kt.auth.currentUser),t.t0=e,t.t1=kt.auth.currentUser,t.next=10,kt.db.collection("roles").where("uid","==",kt.auth.currentUser.uid).get().then(function(t){t.forEach(function(t){e.commit("setUserInfo",{role:t.data().role,dept:t.data().dept})})});case 10:t.t2=t.sent,t.t0.commit.call(t.t0,"setUser",t.t1,t.t2);case 12:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),deleteOrder:function(t,e){t.commit("deleteOrder",e)},register:function(t,e){console.log(e);var s=e.name;kt.auth.createUserWithEmailAndPassword(e.email,e.password).then(function(t){var e=t.user;return e.updateProfile({displayName:s})},function(t){console.error(t.message)}).then(function(){kt.db.collection("roles").add({uid:kt.auth.currentUser.uid,role:"user",dept:"app",name:s}).then(function(){t.commit("setUserInfo",{role:doc.data().role,dept:doc.data().dept})})})},logout:function(t){kt.auth.currentUser&&kt.auth.signOut()},login:function(t,e){kt.auth.signInWithEmailAndPassword(e.email,e.password).then(function(t){}).then(function(){kt.db.collection("roles").where("uid","==",kt.auth.currentUser.uid).get().then(function(e){e.forEach(function(e){t.commit("setUserInfo",{role:e.data().role,dept:e.data().dept})})})})},setUser:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e,s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("setUser",s);case 1:case"end":return t.stop()}},t,this)}));function e(e,s){return t.apply(this,arguments)}return e}(),resetUser:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.commit("resetUser");case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getEmployees:function(){var t=Object(pt["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:kt.db.collection("roles").get().then(function(t){var s=[];t.forEach(function(t){s.push({uid:t.data().uid,name:t.data().name,dept:t.data().dept,role:t.data().role})}),e.commit("setEmployees",s)});case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}});s.d(e,"firebase",function(){return kt}),s.d(e,"bus",function(){return Ct});var wt,kt=s("dc59"),Ct=new r["a"];r["a"].config.productionTip=!1,r["a"].use(ft["a"]),ht.beforeEach(function(t,e,s){document.title=t.meta.title,t.matched.some(function(t){return t.meta.requiresAuth})?kt.auth.currentUser?s():s({name:"login"}):t.matched.some(function(t){return t.meta.requiresVisitor})&&kt.auth.currentUser?s({name:"tracker"}):s(),s()}),kt.auth.onAuthStateChanged(function(t){t?_t.dispatch("setUser",t):_t.dispatch("resetUser"),wt||(wt=new r["a"]({router:ht,store:_t,render:function(t){return t(v)}}).$mount("#app"))})},"5c0b":function(t,e,s){"use strict";var r=s("5e27"),n=s.n(r);n.a},"5e27":function(t,e,s){},dc59:function(t,e,s){"use strict";s.r(e),s.d(e,"db",function(){return i}),s.d(e,"auth",function(){return o}),s.d(e,"currentUser",function(){return a});var r=s("59ca"),n=(s("1247"),s("ee68"),{apiKey:"AIzaSyBtlQOu-Ea5V4SLGHGy_PpWO7VJLnu_3g0",authDomain:"transign-backend.firebaseapp.com",databaseURL:"https://transign-backend.firebaseio.com",projectId:"transign-backend",storageBucket:"transign-backend.appspot.com",messagingSenderId:"82528933648",appId:"1:82528933648:web:397403e8b262c5c8"});r["initializeApp"](n);var i=r["firestore"](),o=r["auth"](),a=o.currentUser}});
//# sourceMappingURL=app.71b7a057.js.map